---
title: "Eldra API"
description: "Dokumentation för Eldras öppna API"
---

<Note>
  För att använda våra API:er behöver du ha ett konto i Eldra. Mejla oss gärna på [info@eldra.ai](mailto:info@eldra.ai) så hjälper vi dig igång.
</Note>

## Välkommen till Eldras API-dokumentation

Här hittar du allt du behöver för att bygga en egen integration med Eldra.

Vi samarbetar gärna med partners som vill koppla ihop sina system med vårt – på ett tryggt och smidigt sätt.

Vill du komma igång med en integration? Hör av dig till oss på [info@eldra.ai](mailto:info@eldra.ai)

## Integration mot ditt system

Eldra kan koppla upp sig mot vilket affärs- eller planeringssystem som helst. \
För att komma igång behövs bara två API-gränssnitt i systemet du vill integrera med:

<Accordion title="Hämta alla kunder">
  Eldra synkar kundregistret från systemet varje natt. På så sätt finns alltid rätt kunder tillgängliga – uppdaterade och klara.

  Vi förväntar oss en lista tillbaka med följande data (namnen på attributen kan skilja sig):

  ```
  [{
  	"name": "string", // Can be firstName, lastName as well
  	"phonenumber": "string",
  	"id": "string", // Can be integer as well. Will be used when calling back into integrating system
  	"street": "string",
  	"city": "string",
  	"postalCode": "string",
  	"unitIdentifier": "string", // Identification for which unit (sv. "Enhet" / "Område") the client belongs to. 
  }]
  ```
</Accordion>

<Accordion title="Hämta aktuellt schema">
  Eldra hämtar schemat för en kund när ett samtal startar.  Schemat ska vara uppdaterat så att kunden alltid får rätt information.

  Vi skickar in följande parametrar (det går också bra att skicka dem som queryparametrar):

  ```
  {
  	"startDate": Date, // start date for schedule range, e.g right now
  	"endDate": Date, // end date for schedule range, e.g in three days
  	"clientId": "string", // Or number
  }
  ```

  Svarslistan bör innehålla följande data:

  ```
  [{
  	"startDate": Date, // start date and time for scheduled appointment
  	"endDate": Date, // end date and time for scheduled appointment
  	"type": "string", // name of task, e.g. "Hemmets skötsel"
  	"by": "string", // name of the person scheduled to do the task
  	"status": "string" // indicating if the appointment is cancelled or active
  }]
  ```
</Accordion>

För att underlätta vardagen för personalen kan Eldra också anropa följande gränssnitt

<Accordion title="Skapa arbetsanteckning">
  Efter ett samtal mellan en klient och Eldra kan en arbetsanteckning automatiskt skapas i ert system.  Det gör att personalen kan fortsätta arbeta i samma vy som vanligt.

  Eldra kan också skapa anteckningar på begäran under ett samtal med personal.

  Följande data skickas in:

  ```
  {
  	"message": "string" // the actual working note
  	"by": "string" // either Eldra, or the staff name
  	"clientId": "string" // Or number
  }
  ```
</Accordion>

<Accordion title="Hämta kunskapsbas">
  Under samtal med personal kan Eldra svara på frågor om era rutiner och processer.

  Exempelvis vad man gör om ingen öppnar dörren, hur man hanterar en punktering – eller hur man sjukanmäler sig.

  Vi förväntar oss att kunna hämta materialet som filer eller text, via API-anrop eller nedladdningsbara länkar.
</Accordion>

För djupare integrationer där även anhöriga och personal ska kunna ringas krävs följande gränssnitt:

<Accordion title="Hämta alla anhöriga">
  Eldra synkar anhöriga från systemet varje natt. På så sätt kan anhöriga till kunder alltid få rätt information.

  Vi förväntar oss en lista tillbaka med följande data (namnen på attributen kan skilja sig):

  ```
  [{
  	"name": "string", // Can be firstName, lastName as well
  	"phonenumber": "string",
  	"id": "string", // Can be integer as well.
  	"clients": [{
  		"id": "string", // can be integer as well,
  		"relationship": "string" // How they are related to the client. Not required to exists
  	}], // Which client / clients they are a relative of, and how. Can be integer for id as well.
  }]
  ```
</Accordion>

<Accordion title="Hämta all personal">
  Eldra synkar personal från systemet varje natt. På så sätt kan all personal alltid få kontakt och hjälp av Eldra. 

  Vi skiljer på endpointsen för att hämta personal, och telefonnummer för personal, då dom flesta hemtjänstutförarna jobbar med en pool av telefoner som man tar när man börjar jobba. Därför håller vi en lista över både personal, och en lista över telefonnummer. Om ert system alltid kopplar 1-1 mellan personal och nummer kan vi hantera allt i ett anrop till ert system

  Vi förväntar oss en lista tillbaka med följande data (namnen på attributen kan skilja sig):

  ```
  [{
  	"name": "string", // Can be firstName, lastName as well
  	"phonenumber": "string", // If they have a set phonenumber, should match phonenumers returned in "Fetch all staff numbers". Can be null / empty
  	"email": "string", // can be null
  	"id": "string", // Can be integer as well.
  	"unitIdentifier": "string", // Identification for which unit (sv. "Enhet" / "Område") the staff belongs to. Should be the same as clients
  }]
  ```
</Accordion>

<Accordion title="Hämta alla telefonnummer för personal">
  Eldra synkar telefonnummer för personal från systemet varje natt. På så sätt kan all personal alltid få kontakt och hjälp av Eldra. 

  Vi skiljer på endpointsen för att hämta personal, och telefonnummer för personal, då dom flesta hemtjänstutförarna jobbar med en pool av telefoner som man tar när man börjar jobba. Därför håller vi en lista över både personal, och en lista över telefonnummer. Om ert system alltid kopplar 1-1 mellan personal och nummer kan vi hantera allt i ett anrop till ert system

  Vi förväntar oss en lista tillbaka med följande data (namnen på attributen kan skilja sig):

  ```
  [{
  	"phonenumber": "string",
  	"unitIdentifier": "string", // Identification for which unit (sv. "Enhet" / "Område") the client belongs to. 
  }]
  ```
</Accordion>

## Datastruktur

<Info>
  Här beskriver vi hur data struktureras i Eldra – för att underlätta samarbeten och integrationer.
</Info>

Det här är den grundläggande datamodellen som behövs för att Eldra ska fungera.  Det är inte all data som finns i systemet, men tillräckligt för att du ska kunna komma igång.

| Entitet                 | Beskrivning                                             | Behöver Entitet      |
| ----------------------- | ------------------------------------------------------- | -------------------- |
| Organisation            | Den övergripande enheten där allt hänger ihop           |                      |
| Portal                  | Enhet i organisationen där kunder och konton kopplas in | Organisation         |
| Client                  | Representerar en kund (brukare)                         | Portal               |
| Account                 | Representerar en användare (personal)                   | Portal, Organisation |
| PhoneCall               | Ett samtal mellan kund eller användare och Eldra AI     | Client / Account     |
| PhoneCallTranscriptLine | Varje meddelande från kund eller användare och Eldra AI | PhoneCall            |

## Autentisering

### Kom igång

<Accordion title="Autentisering" icon="user">
  Alla anrop kräver två HTTP-headrar för autentisering.  Vi rekommenderar också att du sätter Content-Type för bästa upplevelse.

  ```
  X-Portal-Id: '{portalId}'
  Authorization: 'Bearer {token}'
  Content-Type: 'application/json'
  ```

  \*\*X-Portal-Id \*\*\
  ID för den portal som anropet gäller. Du hittar alla ID:n du har tillgång till via `/me` eller under Inställningar på [https://app.eldra.ai/settings](https://app.eldra.ai/settings]\(https://app.eldra.ai/settings\))

  **Authorization**: \
  Standardheader för autentisering. \
  Token kan skapas under Inställningar i gränssnittet.
</Accordion>

<Accordion title="Upptäck våra gränssnitt" icon="sparkles">
  Till vänster ser du en lista över alla våra gränssnitt.

  Klicka på det du vill utforska för att läsa mer.
</Accordion>